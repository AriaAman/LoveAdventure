(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function y(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=y(e);fetch(e.href,t)}})();console.log("Script started successfully");const g=document.getElementById("inscrire"),n=document.getElementById("firstName"),o=document.getElementById("lastName"),u=document.getElementById("phone"),d=document.getElementById("email"),f=document.getElementById("age"),p=document.getElementById("gender"),m=document.getElementById("searching"),a=WA.player.state.loadVariable("zone");console.log("Zone:"+a);const i=WA.state.loadVariable("indexPlayers"+a)??0;WA.onInit().then(()=>{console.log("Scripting API ready"),console.log(WA.state.players),g.addEventListener("click",r=>{n.value===""||o.value===""||d.value===""?alert("Veuillez remplir les champs obligatoires"):(alert("Inscription rÃ©ussie"),WA.player.tags.includes("pretendant")?(WA.state.saveVariable("pretendantInfos"+a,{firstName:n.value,lastName:o.value,age:u.value,gender:p.value,searching:m.value}),WA.player.state.status=!0):(WA.player.state.firstName=n.value,WA.player.state.status=!0,WA.player.state.lastName=o.value,WA.player.state.phone=u.value,WA.player.state.email=d.value,WA.player.state.age=f.value,WA.player.state.gender=p.value,WA.player.state.searching=m.value,WA.player.state.id=i,WA.state.saveVariable("players"+a,{...WA.state.loadVariable("players"+a),[i]:{firstName:WA.player.state.firstName,lastName:WA.player.state.lastName,age:WA.player.state.age,gender:WA.player.state.gender,searching:WA.player.state.searching,email:WA.player.state.email,phone:WA.player.state.phone}}),WA.state.saveVariable("indexPlayers"+a,i+1),console.log(WA.state.players)),WA.controls.restorePlayerControls(),r.preventDefault())})}).catch(r=>console.error(r));
